<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />

    <!-- Load c3.css -->
    <link href="c3/c3.css" rel="stylesheet" />

    <!-- Load d3.js and c3.js -->
    <script src="https://d3js.org/d3.v4.min.js" charset="utf-8"></script>
    <script src="c3/c3.min.js"></script>
    <title>C3 Sample</title>
  </head>
  <body>
    <a href="https://c3js.org/" target="_blank" rel="noopener noreferrer"
      >c3.js公式Page</a
    >
    <div id="chart"></div>
    <div id="chart2"></div>
    <div>普通にjson形式のデータも扱えるやん、、、</div>
    <div id="chart3"></div>
  </body>
  <script>
    var chart = c3.generate({
      bindto: "#chart",
      data: {
        x: "x",
        //        xFormat: '%Y%m%d', // 'xFormat' can be used as custom format of 'x'
        columns: [
          [
            "x",
            "2013-01-01",
            "2013-01-02",
            "2013-01-03",
            "2013-01-04",
            "2013-01-05",
            "2013-01-06",
          ],
          //            ['x', '20130101', '20130102', '20130103', '20130104', '20130105', '20130106'],
          ["data1", 30, 200, 100, 400, 150, 250],
          ["data2", 130, 340, 200, 500, 250, 350],
        ],
      },
      axis: {
        x: {
          type: "timeseries",
          tick: {
            format: "%Y-%m-%d",
          },
        },
      },
    });

    setTimeout(function () {
      chart.load({
        columns: [["data3", 400, 500, 450, 700, 600, 500]],
      });
    }, 1000);

    var chart2 = c3.generate({
      bindto: "#chart2",
      data: {
        x: "x",
        columns: [
          [
            "x",
            "2013-01-01",
            "2013-01-02",
            "2013-01-03",
            "2013-01-04",
            "2013-01-05",
            "2013-01-06",
            "2013-01-07",
            "2013-01-08",
            "2013-01-09",
            "2013-01-10",
            "2013-01-11",
            "2013-01-12",
          ],
          ["sample", 30, 200, 100, 400, 150, 250, 30, 200, 100, 400, 150, 250],
        ],
      },
      axis: {
        x: {
          type: "timeseries",
          tick: {
            // this also works for non timeseries data
            //values: ["2013-01-05", "2013-01-3", "2012-12-30", "2013-01-10"],
            format: "%Y-%m-%d",
          },
        },
      },
    });

    var chart3 = c3.generate({
      bindto: "#chart3",
      data: {
        x: "data1",
        json: {
          data1: [30, 20, 100, 40, 60, 50],
          data2: [200, 130, 90, 240, 130, 220],
          data3: [300, 200, null, 400, 250, 250],
        },
      },
    });

    setTimeout(function () {
      chart3 = c3.generate({
        bindto: "#chart3",
        data: {
          json: [
            { name: "www.site1.com", upload: 200, download: 200, total: 400 },
            { name: "www.site2.com", upload: 100, download: 300, total: 400 },
            { name: "www.site3.com", upload: 300, download: 200, total: 500 },
            { name: "www.site4.com", upload: 400, download: 100, total: 500 },
          ],
          keys: {
            x: "name", // it's possible to specify 'x' when category axis
            value: ["upload", "download"],
          },
        },
        axis: {
          x: {
            type: "category",
          },
        },
      });
    }, 10000);
  </script>
</html>
