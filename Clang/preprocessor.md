# プリプロセッサ関連 についてまとめる

- gcc 環境でプリプロセッサ展開結果を確認する

  - gcc に`-save-temps オプション` をつけてビルドすると以下のように出力できる。

    1. プリプロセッサ出力: foo.i (C の場合) / foo.ii (C++ の場合)
    2. アセンブリコード: foo.s

    - cmake ならこんな感じ

```cmake
ifneq ($(SAVETEMPS),)
CFLAGS += -save-temps=obj
endif
```

```shell
make SAVETEMPS=1
```

- Windows 環境でプリプロセッサ展開結果を確認する

  1. ソリューションエクスプローラ上で展開後の結果を見たい cpp ファイルを右クリック ⇒ プロパティ ⇒ プリプロセッサ ⇒ 前処理済みファイルの生成 ⇒ 行番号つきか行番号なしを選択
  2. 再びソリューションエクスプローラ上で展開後の結果を見たい cpp ファイルを右クリック ⇒ コンパイル
  3. cpp が置かれているのと同じファイル階層に、cpp と同じ名前だけど拡張子が.i になってるファイルができてる
